// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Genre {
  key     String  @id @map("_id")
  value   String
  Movie   Movie?  @relation(fields: [movieId], references: [id])
  movieId String? @db.ObjectId
}

model Star {
  id      String
  name    String  @id @map("_id")
  Movie   Movie?  @relation(fields: [movieId], references: [id])
  movieId String? @db.ObjectId
}

model User {
  id Int @id @map("_id")
  movieIDs String[] @db.ObjectId
  movies Movie[] @relation(fields: [movieIDs], references: [id])
}

model Movie {
  id               String  @id @default(auto()) @map("_id") @db.ObjectId
  imDbId           String
  image            String?
  title            String
  description      String?
  runtimeStr       String?
  genres           String?
  genreList        Genre[]
  contentRating    String?
  imDbRating       String?
  imDbRatingVotes  String?
  metacriticRating String?
  plot             String?
  stars            String?
  starList         Star[]
  userIDs Int[]
  users            User[] @relation(fields: [userIDs], references: [id])
}